name: Deploy

on:
  workflow_call:
    inputs:
      environment:
        type: string
        required: true
      runner:
        type: string
        default: ubuntu-latest

jobs:
  pre-deploy:
    name: Pre-Deploy
    uses: EPAM-SP/test-public-workflows/.github/workflows/pre-deploy.yml@main
    with:
      environment: ${{ inputs.environment }}

  main-deploy:
    name: Main-Deploy
    uses: EPAM-SP/test-public-workflows/.github/workflows/main-deploy.yml@main
    with:
      environment: ${{ inputs.environment }}

  post-deploy:
    name: Post-Deploy
    uses: EPAM-SP/test-public-workflows/.github/workflows/post-deploy.yml@main
    with:
      environment: ${{ inputs.environment }}
